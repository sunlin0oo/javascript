<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <script>
        // 队列当前的长度(rear - front + this.capacity) mod this.capacity
                /**
         * @param {number} k
         初始化队列，同时 base 数组的空间初始化大小为 k+1。front,rear 全部初始化为 0。
         */
        var MyCircularDeque = function(k) {
            this.capacity = k + 1;//为了能够区分队列满或者空的情况
            this.rear = this.front = 0;
            this.elements = new Array(k + 1).fill(0);//为了能够区分队列满或者空的情况
        };

        /** 
         * @param {number} value
         * @return {boolean}
         *
         * 队列未满时，在队首插入一个元素。我们首先将队首front 移动一个位置，更新队首索引为front 更新为(front−1+capacity)mod capacity。*/
        MyCircularDeque.prototype.insertFront = function(value) {
            if(this.isFull()) return false;
            this.front = (this.front - 1 + this.capacity) % this.capacity;
            this.elements[this.front] = value;
            return true;
        };

        /** 
         * @param {number} value
         * @return {boolean}
         */
        MyCircularDeque.prototype.insertLast = function(value) {
            if(this.isFull()) return false;
            this.elements[this.rear] = value;
            this.rear = (this.rear + 1)% this.capacity;
            return true;
        };

        /**
         * @return {boolean}
         */
        MyCircularDeque.prototype.deleteFront = function() {
            if(this.isEmpty()) return false;
            this.front = (this.front + 1) % this.capacity;
            return true;
        };

        /**
         * @return {boolean}
         */
        MyCircularDeque.prototype.deleteLast = function() {
            if(this.isEmpty()) return false;
            this.rear = (this.rear - 1 + this.capacity) % this.capacity;
            return true;
        };

        /**
         * @return {number}
         * 返回队首的元素，需要检测队列是否为空。
         */
        MyCircularDeque.prototype.getFront = function() {
            if (this.isEmpty()) {
                return -1;
            }
            return this.elements[this.front];
        };

        /**
         * @return {number}
         * 返回队尾的元素，需要检测队列是否为空。
         */
        MyCircularDeque.prototype.getRear = function() {
            if (this.isEmpty()) {
                return -1;
            }
            return this.elements[(this.rear - 1 + this.capacity) % this.capacity];
        };

        /**
         * @return {boolean}
         */
        MyCircularDeque.prototype.isEmpty = function() {
            return this.rear === this.front;
        };

        /**
         * @return {boolean}
         */
        MyCircularDeque.prototype.isFull = function() {
            return (this.rear + 1) %this.capacity === this.front;
        };
        

        /**
         * Your MyCircularDeque object will be instantiated and called as such:
         * var obj = new MyCircularDeque(k)
         * var param_1 = obj.insertFront(value)
         * var param_2 = obj.insertLast(value)
         * var param_3 = obj.deleteFront()
         * var param_4 = obj.deleteLast()
         * var param_5 = obj.getFront()
         * var param_6 = obj.getRear()
         * var param_7 = obj.isEmpty()
         * var param_8 = obj.isFull()
         */
    </script>
</body>
</html>