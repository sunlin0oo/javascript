<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <script>
        const num = 2736;
        // 暴力
        // 将每次交换之后的数字进行比较，得出最大的数字
        // var maximumSwap = function(num) {
        //     // const charArray = [...'' + num];
            // const numString = num.toString();
            // let numArray = numString.split('');
            // let len = numArray.length;
        //     let maxNumber = num;
        //     for(let i = 0;i<len;i++){
        //         for(let j = i + 1 ;j<len;j++){
        //             swap(numArray,i,j);
        //             maxNumber = Math.max(maxNumber,parseInt(numArray.join('')));
        //             swap(numArray,i,j);
        //         }
        //     }
        //     return maxNumber
        // };
        // 贪心算法
        var maximumSwap = function(num) {
            const numString = num.toString();
            const numArray = numString.split('');
            const n = numArray.length;
            let maxId = n - 1;
            let idx1 = -1,idx2 = -1;
            // 从右往左进行遍历查找，因为交换是右交换左变大
            for(let i = n-1;i>=0;i--){
                // 保持右边的maxid是最大的值==>numArray[maxId]则为当前已经扫描过的最大值
                if(numArray[i] > numArray[maxId]){
                    maxId = i;
                // 找到左边最小的idx
                }else if(numArray[i] < numArray[maxId]){
                    idx1 = i;
                    idx2 =  maxId;
                }
            }
            if(idx1>=0){
                swap(numArray,idx1,idx2);
                return  parseInt(numArray.join(''))
            }else{
                return num;
            }
        }
        const swap = (numArray, i, j) => {
            const temp = numArray[i];
            numArray[i] = numArray[j];
            numArray[j] = temp;
        };
        let a = maximumSwap(num);
        console.log(a);
    </script>
</body>
</html>