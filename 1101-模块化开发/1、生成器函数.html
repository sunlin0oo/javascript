<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <script>
        // function *fn(){

        // }

        // function* fn(){

        // }

        // function * fn(){

        // }


        /*   function getSum(a,b){
              console.log(a);
              console.log(b);
              a++;
              console.log(a);
              b++;
              console.log(b);
              var s=a+b;
              return s;
          }


          var s=getSum(3,5);
          console.log(s) */


        // function *getSum(a,b){
        //     yield a;
        //     yield b; //目的是断点
        //     a++;
        //     yield a;
        //     b++;
        //     yield b;
        //     var s=a+b;
        //     yield s;
        //     return s;
        // }

        // var f=getSum(4,5);
        // console.log(f.next());//value :4 done :false;
        // console.log(f.next());
        // console.log(f.next());
        // console.log(f.next());
        // console.log(f.next());
        // console.log(f.next());
        // console.log(f)

        // function* loadImage() { //将异步过程称为同步过程
        //     var arr = [];
        //     for (var i = 1; i < 7; i++) {
        //         var img = new Image();
        //         img.src = "./img/" + i + ".jpg";
        //       yield img.onload = function () {
        //             arr.push({
        //                 src: this.src,
        //                 width: this.width,
        //                 height: this.height
        //             });
        //             if(i===6){
        //                 finishHandler(arr);
        //             }
        //             f.next();
        //         }
        //     }
        // }

        // function finishHandler(list){
        //     console.log(list)
        // }


        // var f=loadImage();
        // f.next();


        // function *fn(){
        //     yield "a";
        //     yield "b";
        //     yield "c";
        //     yield "d";
        //     return "e";
        // }


        // var f=fn();

        // for(var value of f){
        //     console.log(value)
        // }


        function* foo(num) {               //接受num参数5
            console.log("函数开始执行~")

            const value1 = 100 * num
            console.log("第一段代码:", value1)
            const n = yield value1            //接受n参数  10

            const value2 = 200 * n;
            console.log("第二段代码:", value2)
            const count = yield value2       //接受count参数  25

            const value3 = 300 * count
            console.log("第三段代码:", value3)
            yield value3

            console.log("函数执行结束~")
            return "123"
        }

        // 生成器上的next方法可以传递参数
        const generator = foo(5)       //第一个参数直接传递  
        // 函数开始执行~
        // 第一段代码: 500   并传递参数10  const n = yield value1   
        console.log(generator.next(10))    // { value: 500, done: false }
        // 第二段代码: 5000    并传递参数20  const count = yield value2 
        console.log(generator.next(25)); // {value: 5000, done: false}
        // 第三段代码: 9000    并传递参数20  yield value3 
        console.log(generator.next(30)); // {value: 9000, done: false}
        console.log(generator.next(35)) // {value: '123', done: true}
        // function* foo(x) {
        //     let y = 2 * (yield (x + 1))
        //     let z = yield (y / 3);
        //     return (x + y + z);
        // }

        // let it = foo(5);
        // console.log(it.next()); // 此时执行yield(x + 1)==> 返回出结果
        // console.log(it.next(12));// 这里y接受的参数是 next传递的12
        // console.log(it.next(13));// 这里z接受的参数next传递的13
    </script>
</body>

</html>