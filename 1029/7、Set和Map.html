<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <button>按钮1</button>
    <button>按钮2</button>
    <button>按钮3</button>
    <ul>
        <li>1</li>
        <li>2</li>
        <li>3</li>
    </ul>
    <script>

        // Set  集合
        // Map  HashMap 键值对


        // Set 松散结构  只是用来存储值，没有键的概念，不能排序，不能重复 无重复的集合


        // var s=new Set([1,2,3,4,5,4]);
        // console.log(s.size);//集合中元素的数量
        // console.log(s)
        // s.add(6);
        // s.add(7);//添加
        // s.delete(2);//删除
        // s.clear();//清除
        // console.log(s.has(3));//判断有没有这个元素
        // s.forEach(function(item){
        //     console.log(item)
        // })
        // console.log(s)


        // var arr=[1,3,2,1,3,5,6,2,1,2,3];
        // arr=Array.from(new Set(arr));
        // console.log(arr)


        // var bns=Array.from(document.querySelectorAll("button"));
        // // var arr=[];
        // var s=new Set();
        // bns.forEach(item=>{
        //     item.addEventListener("click",clickHandler);
        // })

        // function clickHandler(e){
        //     // if(arr.includes(this)) return;
        //     // arr.push(this);
        //     // if(arr.length===5){
        //     //     console.log("全部点击完成");
        //     // }
        //     s.add(this);
        //     if(s.size===5){
        //         console.log("全部点击完成");
        //     }
        // }



        // var s=new Set([1,2,3,4,5,6]);

        // for(var value of s){
        //     console.log(value);
        // }

        // var arr=[4,5,6,7,8];
        // for(var value of arr){
        //     console.log(value)
        // }


        // Map 类型  键值对   有键值对的数量 key可以是任意类型


        var m=new Map()
        var o={a:1};
        var o1={a:2};
        var o2={a:3};
        m.set("a",1);
        m.set(o,o1);
        m.set(o1,o2);

    //     console.log(m.get("a"));
    //     console.log(m.get(o));
    //     console.log(m.get(o1));

    //    console.log( m.has("a"))
    //    console.log( m.has(o1))
    //    console.log( m.has({a:2}))

    //    m.delete(o)
    // m.clear();
        // console.log(m.size)
        // console.log(m)

        // for(var [key,value] of m){
        //     console.log(key,value)
        // }

        // m.forEach((value,key)=>{
        //     console.log(key,value)
        // })

        // 只遍历所有的键
        // for(var key of m.keys()){
        //     console.log(key);
        // }

        // 只遍历所有的值
        // for(var value of m.values()){
        //     console.log(value)
        // }

        for(var [key,value] of m.entries()){
            console.log(key,value);
        }


        // var arr=[1,2,3,4];
        // console.log(arr.entries());

        // for(var [key,value] of arr.entries()){
        //     console.log(key,value)
        // }


            // var obj={a:1,b:3};
            
            // 将迭代器转换为对象
            // obj=Object.fromEntries(m);
            // console.log(obj)

            // 将对象转换为迭代器对象
            // var a=Object.entries(obj);
            // for(var [key,value] of a){
            //     console.log(key,value);
            // }

            // 将对象转换为map
            // var m1=new Map(Object.entries(obj));
            // console.log(m1)

        // var bns=document.querySelectorAll("button");
        // var lis=document.querySelectorAll("li");
        // var m=new Map();
        // bns.forEach(item=>{
        //     m.set(item,Array(3).fill(1).map(()=>Array(6).fill(1).reduce((v,t)=>v+(~~(Math.random()*16)).toString(16),"#")))
        //     item.addEventListener("click",clickhandler);
        // })
        // console.log(m)

        // function clickhandler(e){
        //     console.log(m.get(this))
        //     lis.forEach((t,i)=>{
        //         t.style.color=m.get(this)[i];
        //     })
        // }
        



        // 弱引用   不能遍历
        // WeakSet 里面只能使用引用类型
        // WeakMap 只能使用引用类型做key


        // 强引用
        // var o={a:1};
        // var arr=[];
        // arr[0]=o;
        // o=null;


        // 当设置o为null，集合中的这个o因为是弱引用关系，所以这个元素也会自动清除
        // var o={a:1};
        // var s=new WeakSet();
        // s.add(o);
        // o=null;
        // console.log(s)
    </script>
</body>
</html>