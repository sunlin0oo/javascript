<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <script>
        var arr=[1,2,3,4,5,6];
        // 循环数组判断数组中每一个是否满足条件，如果有一个不满足条件的直接返回false
        // var bool=arr.every(function(item,index,arr){
        //     return item>1;
        // })
        // console.log(bool);

            // 循环数组判断数组中是否有一个满足条件，如果有一个满足条件的直接返回true
        // var bool=arr.some(function(item,index,arr){
        //     return item>2;
        // })
        // console.log(bool);



        // every
        function arrayEvery(array,fn){
            if(!array || array.constructor!==Array) throw new TypeError("请给入正确的数组");
            for(var i=0;i<array.length;i++){
              if(i in array && !fn(array[i],i,array))  return false;
            }
            return true;
        }

        // var bool=arrayEvery(arr,function(item,index,arr){
        //     return item>2;
        // })
        // console.log(bool);


        // some
        function arraySome(array,fn){
            if(!array || array.constructor!==Array) throw new TypeError("请给入正确的数组");
            for(var i=0;i<array.length;i++){
              if(i in array && fn(array[i],i,array))  return true;
            }
            return false;
        }

        // var bool=arraySome(arr,function(item,index,arr){
        //     return item>2;
        // })
        // console.log(bool);




        // filter 筛选  将数组中每个元素判断是否满足条件，如果满足则筛选出来放在新数组中返回

        function arrayFilter(array,fn){
            if(!array || array.constructor!==Array) throw new TypeError("请给入正确的数组");
            var arr=[];
            for(var i=0;i<array.length;i++){
              if(i in array && fn(array[i],i,array)) arr[arr.length]=array[i];
            }
            return arr;
        }

    //     var arr=[1,2,3,4,5,6];
    //     // var arr1=arr.filter(function(item,index,arr){
    //     //     return item>4;
    //     // })
    //     // console.log(arr1);

    //    var arr1=arrayFilter(arr,function(item){
    //         rbeturn item>2
    //     })
    //     console.log(arr1);




        // reduce 归并
        var arr=[1,2,3,4,5,6];
        //value是每次value+item的返回值
    //    var sum=arr.reduce(function(value,item,index,arr){
    //        console.log(value,item,index);
    //         return value+item;
    //     })

    // var sum=arr.reduce(function(value,item,index,arr){
    //        console.log(value,item,index);
    //         return value+item;
    //     },100)  //100--> 第二个参数是value初始值
    //     console.log(sum);

    
    // function arrayReduce(array,fn,initValue){
    //     if(!array || array.constructor!==Array) throw new TypeError("请给入正确的数组");
    //     var i=0;// 循环起点
    //     if(Object.values(array).length===0) throw new TypeError(" Reduce of empty array with no initial value") // 判断数组是否是空数组
    //     判断初始值是否存在，遍历寻找第一个初始值
    //     if(initValue===undefined){
        //     if(array.length===0) throw new TypeError("Reduce of empty array with no initial value");
        //     //若第i项是零项，则要从i+1开始找，所以i++;
        //     for(;i<array.length;i++){
        //         if(i in array){
        //             initValue=array[i];
        //             i++; 
        //             break;
        //         }
        //     }
        // }
    //     for(;i<array.length;i++){
    //         if(i in array) initValue=fn(initValue,array[i],i,array);
    //     }
    //     return initValue;
    // }

        // var sum=arrayReduce([,1,],function(value,item,index,arr){
        //         return value+item;
        // });

        // console.log(sum);

        // var arr1=[,1,]
        // var s=arr1.reduce(function(value,item){
        //     return value+item
        // })
        // console.log(s);



    //    var s=arr.reduceRight(function(value,item,index,arr){
    //         return value+item;
    //     });
    //     console.log(s);


    // function arrayReduceRight(array,fn,initValue){
    //     if(!array || array.constructor!==Array) throw new TypeError("请给入正确的数组");
    //     var i=array.length-1;
    //     if(Object.values(array).length===0) throw new TypeError(" Reduce of empty array with no initial value")
    //     if(initValue===undefined){
    //         if(array.length===0) throw new TypeError("Reduce of empty array with no initial value");
    //         for(;i>=0;i--){
    //             if(i in array){
    //                 initValue=array[i];
    //                 i--;
    //                 break;
    //             }
    //         }
    //     }
    //     for(;i>=0;i--){
    //         if(i in array) initValue=fn(initValue,array[i],i,array);
    //     }
    //     return initValue;
    // }

//    var s=arrayReduceRight([1,2,3,4],function(v,t){
//         return v+t;
//     },100)
//     console.log(s);



    // find
//     var arr=[,,,6,,1];
//    var value=arr.find(function(item,index,arr){
//        console.log(item);
//         return item>1
//     })
//     console.log(value);


        function arrayFind(array,fn){
            if(!array || array.constructor!==Array) throw new TypeError("请给入正确的数组");
            for(var i=0;i<array.length;i++){
              if(fn(array[i],i,array)) return array[i];
            }
        }


        // findIndex
    //     // 返回查找到这个元素的第一个下标
    //     var arr=[10,20,30,40,50,60];
    //    var i=arr.findIndex(function(item,index,arr){
    //         return item>30;
    //     })
    //     console.log(i);


    //     var arr=[
    //         {id:1001,name:"H5_1",price:3000,num:1},
    //         {id:1002,name:"H5_2",price:4000,num:2},
    //         {id:1003,name:"H5_3",price:5000,num:3},
    //         {id:1004,name:"H5_4",price:6000,num:5},
    //         {id:1005,name:"H5_5",price:7000,num:2},
    //     ]

    //     // var index=arr.indexOf({id:1003,name:"H5_3",price:5000,num:3})//错误

    //    var i= arr.findIndex(function(item){
    //        return item.price===5000
    //     })
    //     console.log(i);

        // function arrayFindIndex(array,fn){
        //     if(!array || array.constructor!==Array) throw new TypeError("请给入正确的数组");
        //     for(var i=0;i<array.length;i++){
        //       if(fn(array[i],i,array)) return i;
        //     }
        //     return -1;
        // }



        // findLast 从后向前查找
    //    var t=arr.findLast(function(item,index){
    //         return item>4
    //     })
    //     console.log(t);

    //     function arrayFindLast(array,fn){
    //         if(!array || array.constructor!==Array) throw new TypeError("请给入正确的数组");
    //         for(var i=array.length-1;i>=0;i--){
    //           if(fn(array[i],i,array)) return array[i];
    //         }
    //     }


        // findLastIndex
        // function arrayFindLast(array,fn){
        //     if(!array || array.constructor!==Array) throw new TypeError("请给入正确的数组");
        //     for(var i=array.length-1;i>=0;i--){
        //       if(fn(array[i],i,array)) return i;
        //     }
        //     return -1;
        // }




       var arr=[[1,2],[3,4,[-1,-2]],5,6];
    //    flatMap 扁平化数组
    //   var arr1=arr.flatMap(function(item){
    //        return item;
    //    })
    //    console.log(arr1);

    // var arr1=arr.flat(1)
    // console.log(arr1);

    // function arrayFlatMap(array,fn){
    //     if(!array || array.constructor!==Array) throw new TypeError("请给入正确的数组");
    //     var arr=[];
    //     for(var i=0;i<array.length;i++){
    //         var item=fn(array[i],i,array);
    //         if(item && item.constructor===Array){
    //             for(var j=0;j<item.length;j++){
    //                 arr[arr.length]=item[j];
    //             }
    //         }else{
    //             arr[arr.length]=item;
    //         }
    //     }
    //     return arr;
    // }


    // var arr1=arrayFlatMap(arr,function(item,index,arr){
    //可以再次操作数组
    //     if(Array.isArray(item) && item.length<10){
    //         var n=item.length;
    //         item.length=10;
    //         item.fill(1,n);
    //     }
    //         return item;
    // });
    // console.log(arr1);

 
    //     function arrayFlat(array,arr){
    //         if(!arr) arr=[];
    //         for(var i=0;i<array.length;i++){
    //             if(array[i] && array[i].constructor===Array){  //判断是否是数组
    //                 arrayFlat(array[i],arr) //递归
    //             }else{
    //                 arr[arr.length]=array[i];
    //             }
    //         }
    //         return arr;
    //     }

    //    var arr1= arrayFlat(arr);
    //    console.log(arr1);


    //    function arrayFlat(array,num,arr,n){
    //        if(num===undefined) num=1;  //要求扁平化化层
    //         if(n===undefined) n=1;  //计数多少层
    //         if(arr===undefined) arr=[];
    //         for(var i=0;i<array.length;i++){
    //             if(array[i] && array[i].constructor===Array){ 
    //                if(num>=n) arrayFlat(array[i],num,arr,n+1);
    //                else arr[arr.length]=array[i];
    //             }else{
    //                 arr[arr.length]=array[i];
    //             }
    //         }
    //         return arr;
    //     }

    //    var arr1= arrayFlat(arr,1);
    //    console.log(arr1);
    </script>
</body>
</html>